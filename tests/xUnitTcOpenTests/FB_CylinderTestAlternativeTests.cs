using TcOpen;
using Tc.Prober.Runners;
using Xunit;
using System;

namespace xUnitTcOpenTests
{
    public class FB_CylinderTestAlternativeTests : IDisposable
    {
        FB_CylinderTestAlternative sut;

    
        public FB_CylinderTestAlternativeTests()
        {
            Entry.TcOpen.Connector.BuildAndStart();
            sut = Entry.TcOpen.MAIN.cylinderTestAlternative;
        }

        public void Dispose()
        {

        }

        [Fact]  
        public void MoveCylinderToHomeTest()
        {
            sut.Run(a => a.MoveCylinderToHome(), 1);            
            Assert.True(sut.fbCylinder.outToHomePos.Synchron);
            Assert.False(sut.fbCylinder.outToWorkPos.Synchron);
        }

        [Fact]
        public void MoveCylinderToWorkTest()
        {
            sut.Run(a => a.MoveCylinderToWork(), 1);            
            Assert.False(sut.fbCylinder.outToHomePos.Synchron);
            Assert.True(sut.fbCylinder.outToWorkPos.Synchron);
        }       
    }
}