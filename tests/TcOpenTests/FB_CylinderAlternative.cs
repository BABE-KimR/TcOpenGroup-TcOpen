using NUnit.Framework;
using TcOpen;
using Tc.Prober.Runners;

namespace nUnitTcOpenTests
{
    public class FB_CylinderAlternativeTests
    {
        FB_CylinderAlternative sut;

        [OneTimeSetUp()]
        public void OneTimeSetUp()
        {
            Entry.TcOpen.Connector.BuildAndStart();
            sut = Entry.TcOpen.MAIN._wpfCyclinder;
        }

        [Test]
        [Timeout(10000)]
        public void MoveCylinderToHomeTest()
        {
            sut.Run(a => a._MoveToHomeTest());
            Assert.IsFalse(sut._atWorkPos.Synchron);
            Assert.IsTrue(sut._atHomePos.Synchron);
            Assert.IsTrue(sut.toHomePos.Synchron);
            Assert.False(sut.toWorkPos.Synchron);
        }

        [Test]
        [Timeout(10000)]
        public void MoveCylinderToWorkTest()
        {
            sut.Run(a => a._MoveToWorkTest());
            Assert.IsTrue(sut._atWorkPos.Synchron);
            Assert.IsFalse(sut._atHomePos.Synchron);
            Assert.IsFalse(sut.toHomePos.Synchron);
            Assert.IsTrue(sut.toWorkPos.Synchron);
        }
    }
}