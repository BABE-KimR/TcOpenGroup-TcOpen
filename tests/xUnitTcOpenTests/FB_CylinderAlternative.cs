using System;
using TcOpen;
using Xunit;
using Tc.Prober.Runners;

namespace xUnitTcOpenTests
{    
    public class fbCylinderTests : IDisposable
    {
        fbCylinder sut;
        
        public fbCylinderTests()
        {
            Entry.TcOpen.Connector.BuildAndStart();
            sut = Entry.TcOpen.MAIN._wpfCyclinder;
        }

        [Fact]         
        public void MoveCylinderToHomeTest()
        {
            sut.Run(a => a._MoveToHomeTest() & a.Simulate());
            Assert.False(sut.inAtWorkPos.Synchron);
            Assert.True(sut.inAtHomePos.Synchron);
            Assert.True(sut.outToHomePos.Synchron);
            Assert.False(sut.outToWorkPos.Synchron);
        }

        [Fact] 
        public void MoveCylinderToWorkTest()
        {
            sut.Run(a => a._MoveToWorkTest() & a.Simulate());
            Assert.True(sut.inAtWorkPos.Synchron);
            Assert.False(sut.inAtHomePos.Synchron);
            Assert.False(sut.outToHomePos.Synchron);
            Assert.True(sut.outToWorkPos.Synchron);
        }

        public void Dispose()
        {
            
        }
    }
}
